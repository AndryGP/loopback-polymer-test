<link rel="import" href="../components/core-ajax/core-ajax.html">
<link rel="import" href="../components/paper-input/paper-input.html">
<link rel="import" href="../components/paper-button/paper-button.html">

<polymer-element name="test-update">
	<template>
        <style>
            #button {
                font-size: 12px;
                font-family: sans-serif;
                background-color: darkslategray;
                color: #efefef;
            }
        </style>
		<form id="form_1">
        <paper-input floatingLabel id="Id" label="Id account:" value="{{id}}"></paper-input>
        <br>
	      <paper-input floatingLabel id="Email" label="New email:" value="{{email}}"></paper-input>
	      <br>
	 
	      <div class="centered">
	        <paper-button id="button"on-click="{{doSend}}" raisedButton class="colored" label="Update"></paper-button>
	      </div>
	    </form>

	  	<core-ajax id="ajax" auto="false" method="PUT" contentType="application/json"  url="/api/accounts"  body='{"email":"{{ email }}", "id":"{{ id }}"}'>
    </core-ajax>
  </template>
  <script>
    Polymer('test-update', {

      doSend: function(event, response){
        var email = this.$.Email.value;
        var id = this.$.Id.value;

        // var today = new Date();
        // var dd = today.getDate();
        // var mm = today.getMonth()+1; //January is 0!
        // var yyyy = today.getFullYear();

        // if(dd<10) {
        //     dd='0'+dd
        // } 

        // if(mm<10) {
        //     mm='0'+mm
        // } 

        // today = yyyy+'-'+mm+'-'+dd;
        // var created = today;
        // console.log(created);
        this.$.ajax.go();
      }
    });
  </script>
</polymer-element>