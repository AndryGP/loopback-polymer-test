<link rel="import" href="../../bower_components/polymer/polymer.html">

<polymer-element name="x-checkbox">
	<template>

    <style>
      :host {
        display: block;
      }
    </style>

      <div id="check_input">
        <span>{{ name }}</span>
        <template repeat="{{ option in schema.options }}">
          <label>
            {{ option }}
            <input type="checkbox" name="{{ name }}" value="{{ option }}" />
          </label>
        </template>
      </div>

  </template>


  <script>
    Polymer('x-checkbox', {

      get value() {
      var input = this.$.check_input;
      var input_tag = [];
      for(el in this.schema.options) {
        input_tag.push(input.querySelector('input'));
      }
      var selected = input.querySelector('input:checked');
      if (!selected) {
        return;
      }
      var value = selected.getAttribute('value');
      return value;
      },

      set value (value) {
        var input = this.$.check_input;
        var selected = input.querySelector('input[value="' + value + '"]');
        if (!selected) {
          return;
        }
        selected.setAttribute('checked', 'checked');

      }


    });
  </script>
</polymer-element>
